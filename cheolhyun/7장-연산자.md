# 연산자

- 연산자(`operator`)는 하나 이상의 표현식을 대상으로 산술, 할당, 비교, 논리, 타입, 지수 연산(`operation`) 등을 수행해 하나의 값을 만듬.
- 피연산자(`operand`)는 연산의 대상으로, 값으로 평가될 수 있는 표현식이어야 함.
- 피연산자와 연산자의 조합으로 이루어진 연산자 표현식도 값으로 평가될 수 있는 표현식.

```js
5 * 4; // 산술 연산자
"My name is " + "Lee"; // 문자열 연결 연산자
color = "red"; // 할당 연산자
3 > 5; // 비교 연산자
true && false; // 논리 연산자
typeof "Hi"; // 타입 연산자
```

- 피연산자: "값"이라는 명사의 역할
- 연산자: "피연산자를 연산하여 새로운 값을 만든다."라는 동사의 역할.

## 산술 연산자

- 산술 연산자(`arithmetic operator`)는 피연산자를 대상으로 수학적 계산을 수행해 새로운 `number` 값을 만듬.
- 산술 연산이 불가능한 경우 `NaN`을 반환.

### 이항 산술 연산자

- 2개의 피연산자를 산술 연산하여 `number` 값을 만듬.
- 모든 이항 산술 연산자는 피연산자의 값을 변경하는 부수 효과(`side effect`)가 없음.

> 언제나 새로운 값을 만듬.

### 단항 산술 연산자

- 1개의 피연산자를 산술 연산하여 `number` 값을 만듬.
- `++`, `--` 연산자는 피연산자의 값을 변경하는 부수 효과가 있음.
- `+`, `-` 연산자는 `number` 타입이 아닌 피연산자를 `number` 타입으로 변환함.

### 문자열 연결 연산자

- `+` 연산자는 피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작.
- `JavaScript Engine`은 암묵적 타입 변환(`implicit coercion`) 또는 타입 강제 변환(`type coercion`)이 발생.

## 할당 연산자

- 할당 연산자(`assignment operator`)는 우항에 있는 피연산자의 평가 결과를 좌항에 있는 변수에 할당.
- 좌항의 변수에 값을 할당하므로 변수 값이 변화는 부수 효과가 있음.
- 할당문은 값으로 평가되는 표현식인 문으로서 할당된 값으로 평가.

> 이러한 특징을 이용해 변수에 동일한 값을 연쇄 할당 가능.

## 비교 연산자

- 비교 연산자(`comparison operator`)는 좌항과 우항의 피연산자를 비교한 다음 그 결과를 `boolean` 으로 반환.
- 제어문의 조건식에서 주로 사용.

### 동등/일치 비교 연산자

- 동등 비교(`loose equality`) 연산자와 일치 비교(`strict equality`) 연산자는 좌항과 우항의 피연산자가 같은 값으로 평가되는지 비교해 `boolean` 반환.
- 동등 비교 연산자: 느슨한 비교.
- 일치 비교 연산자: 엄격한 비교.

| 비교 연산자 |   의미    |             설명             |
| :---------: | :-------: | :--------------------------: |
|    `==`     | 동등 비교 |    `x`와 `y`의 값이 같음     |
|    `===`    | 일치 비교 | `x`와 `y`의 값과 타입이 같음 |
|    `!=`     | 동등 비교 |    `x`와 `y`의 값이 다름     |
|    `!==`    | 일치 비교 | `x`와 `y`의 값과 타입이 다름 |

- 동등 비교 연산자는 좌항과 우항의 피연산자를 비교할 때 먼저 암묵적 타입 변환을 통해 타입을 일치시킨 후 같은 값인지 비교.
- 동등 비교 연산자는 편리한 경우도 있지만 결과를 예측하기 어렵고 실수하기 쉬운 안티패턴.
- 일치 비교 연산자는 좌항과 우항의 피연산자가 타입과 값 모두 같은지 비교.
- `NaN`은 자기 자신과 일치하지 않는 유일한 값. `NaN`인지 조사하기 위해선 빌트인 함수 `isNaN` 사용.
- `Object.is` 메서드는 예측 가능한 정확한 비교 결과를 반환.

### 대소 관계 비교 연산자

- 대소 관계 비교 연산자는 피연산자의 크기를 비교하여 `boolean` 반환.

## 삼항 조건 연산자

- 삼항 조건 연산자(`ternary operator`)는 조건식의 평가 결과에 따라 반환할 값 결정.
- 값으로 평가할 수 있는 표현식인 문.

## 논리 연산자

- 논리 연산자(`logical operator`)는 우항과 좌항의 피연산자(부정 논리 연산자의 경우 우항의 피연산자)를 논리 연산 함.
- 논리 부정(`!`) 연산자는 언제나 `boolean` 반환.
- 논리 합(`||`), 논리 곱(`&&`) 연산자 표현식의 결과는 `boolean`이 아닐 수도 있음.

## 쉼표 연산자

- 쉼표 연산자는 왼쪽 피연산자부터 차례로 피연산자를 평가.
- 마지막 피연산자의 평가가 끝나면 마지막 피연산자의 평가 결과를 반환.

```js
var x, y, z;
(x = 1), (y = 2), (z = 3); // 3
```

## 그룹 연산자

- 소괄호(`()`)로 피연산자를 감싸는 그룹 연산자는 자신의 피연산자인 표현식을 가장 먼저 평가.
- 그룹 연산자를 사용하면 연산자의 우선순위 조절 가능.
- 연산자 우선순위가 가장 높음.

## `typeof` 연산자

- `typeof` 연산자는 피연산자의 데이터 타입을 문자열로 반환.
- `"string"`, `"number"`, `"boolean"`, `"undefined"`, `"symbol"`, `"object"`, `"function"` 중 하나 반환.
- `null`은 `"object"`를 반환.

## 지수 연산자

- `ES7`에서 도입된 지수 연산자는 좌항의 피연산자를 밑(`base`), 우항의 피연산자를 지수(`exponent`)로 거듭 제곱하여 `number` 반환.
- 지수 연산자가 도입되기 이전에는 `Math.pow` 사용.
- 음수를 거듭제곱의 밑으로 사용해 계산하려면 괄호로 묶어야 함.
- 할당 연산자와 함께 사용 가능.
- 지수 연산자는 이항 연산자 중에서 우선순위가 가장 높음.

```js
2 ** 2; // 4
2 ** 2.5; // 5.65685424949238
2 ** 0; // 1
2 ** -2; // 0.25

2 ** (2 ** 2); // 16
(-5) ** 2; // 25

var num = 5;
num **= 2; // 25

2 * 5 ** 2; // 50
```

## 그 외의 연산자

- `?.`: 옵셔널 체이닝 연산자
- `??`: `null` 병합 연산자
- `delete`: 프로퍼티 삭제
- `new`: 생성자 함수를 호출할 때 사용하여 인스턴스를 생성.
- `instanceof`: 좌변의 객체가 우변의 생성자 함수와 연결된 인스턴스인지 판별.
- `in`: 프로퍼티 존재 확인

## 연산자의 부수 효과

- 부수 효과가 있는 연산자
  - 할당 연산자(`=`)
  - 증가/감소 연산자(`++`, `--`)
  - `delete` 연산자

## 연산자 우선순위

- 여러 개의 연산자로 이루어진 문이 실행될 때 연산자가 실행되는 순서

1. `()`
2. `new`(매개변수 존재), `[]`(프로퍼티 접근), `()`(함수 호출), `?.`(옵셔널 체이닝)
3. `new`(매개변수 미존재)
4. `x++`, `x--`,
5. `!x`, `+x`, `-x`, `++x`, `--x`, `typeof`, `delete`
6. `**`,
7. `*`, `/`, `%`
8. `+`, `-`
9. `<`, `<=`, `>`, `>=`, `in`, `instanceof`
10. `==`, `!=`, `===`, `!==`
11. `??`(`null` 병합 연산자)
12. `&&`
13. `||`,
14. 삼항 연산자
15. 할당 연산자
16. `,`

- 기억에 의존하기 보다는 그룹 연산자를 사용하여 명시적으로 조절하는 것을 권장.

## 연산자 결합 순서(방향)

- 연산자의 어느 쪽(좌항, 우항)부터 평가를 수행할 것인지 나타내는 순서

- 좌항 -> 우항: `+`, `-`, `/`, `%`, `<`, `<=`, `>`, `>=`, `&&`, `||`, `.`, `[]`, `()`, `??`, `?.`, `in`, `instanceof`
- 우항 -> 좌항: `++`, `--`, `!x`, `+x`, `-x`, `++x`, `--x`, `typeof`, `delete`, 할당 연산자, 삼항 연산자
