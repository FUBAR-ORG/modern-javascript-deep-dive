# 49장 Babel과 Webpack을 이용한 ES6+/ES.NEXT 개발 환경 구축

ES6+와 ES.NEXT의 최신 ECMAScript 사양을 사용해 프로젝트를 진행하려면 다음과 같은 개발 환경을 구축해야 한다.

- 최신 사양으로 작성된 코드를 경우에 따라 구형 브라우저(IE)에서 문제 없이 동작시켜야 한다.
- 모듈 사용을 위한 모듈 로더가 필요하다. 구형 브라우저 지원을 비롯한 여러 이슈로 인해 ESM보다 별도의 모듈 로더를 사용하는 것이 일반적이다.

트랜스파일러인 Babel과 모듈 번들러인 Webpack을 사용하면 이와 같은 개발 환경을 구축할 수 있다.

<br>

## Babel

Babel은 최신 ES6+/ES.NEXT 문법을 구형 브라우저에서도 동작하도록 ES5 사양의 소스코드로 변환하는 트랜스파일링을 수행하는 트랜스파일러다.

Babel이 제공하는 공식 Babel 프리셋(플러그인들의 집합)은 다음과 같다.

- @babel/preset-env: 플러그인들을 프로젝트 지원 환경에 맞춰 동적으로 결정해준다.
- @babel/preset-flow, @babel/preset-react, @babel/preset-typescript: flow, 리액트, 타입스크립트를 변환하기 위한 프리셋이다.

설치가 완료된 프리셋, 플러그인을 사용하기 위해선 babel.config.json 설정 파일을 작성해야 한다.

```
{
  "presets": ["@babel/프리셋이름"],
  "plugins": ["@bable/플러그인이름"]
}
```

사양에 따른 플러그인의 지원 여부에 따라 트랜스파일링시 에러가 발생할 수 있다. 이 경우 Babel 홈페이지에서 해당 사양을 검색하면 지원하는 플러그인을 확인할 수 있다.

<br>

## Webpack

웹팩은 의존 관계에 있는 자바스크립트, CSS, 이미지 등의 리소스들을 하나의 파일로 번들링하는 모듈 번들러다.

- 의존 모듈이 하나의 파일로 번들링되므로 모듈 로더가 필요없다.
- 여러 개의 자바스크립트 파일을 하나로 번들링하므로 HTML에서 여러 개의 자바스크립트 파일을 로드하지 않아도 된다.

### Configuration

- babel-loader 설치: 웹팩이 모듈을 번들링할 때 Babel을 사용해 최신 사양의 코드를 트랜스파일링한다.
- webpack.config.js 작성
- babel-polyfill 설치: ES5 사양에 대체할 기능이 없어 Babel로 트랜스파일링 되지 못한 소스코드들의 추상화를 제공한다.
