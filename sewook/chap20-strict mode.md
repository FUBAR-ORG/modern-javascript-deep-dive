# 20장 strict mode

## 암묵적 전역

아래 코드는 왜 *Reference Error*를 발생시키지 않고 정상적으로 동작할까?

```js
function func() {
  value = 10;
}
console.log(value); // 10
```

해당 코드를 실행하면 암묵적 전역(implicit global)에 따라 자바스크립트 엔진은 다음과 같은 단계를 수행한다.

1. `value` 변수가 어디서 선언되었는지 스코프 체인을 따라 검색한다
2. `func` 함수의 스코프에 변수 `value` 선언이 없으므로 검색에 실패하고 `func` 스코프의 상위 스코프인 전역 스코프에서 `value` 선언을 검색한다.
3. 전역 스코프에서도 `value` 선언을 찾을 수 없으므로 엔진은 암묵적으로 전역 객체에 `value` 프로퍼티를 동적으로 생성한다.
4. 전역 객체의 `value` 프로퍼티는 전역 변수 `value` 처럼 동작해 콘솔에 `10`이 출력된다.

이러한 암묵적 전역은 예상치 못한 결과를 초래해 안정적인 코드를 작성하기 어렵게 만든다.

## strict mode

strict mode는 자바스크립트 언어의 문법을 좀 더 엄격히 적용시켜 암묵적 전역과 같이 오류 발생 가능성이 높은 코드를 제한하는 기능이며 ES5부터 추가되었다. ES6 이후에 도입된 모듈은 기본적으로 strict mode가 적용된다.

strict mode를 전역 / 함수 단위로 적용하는 것을 피해야한다. IIFE로 감싼 스크립트 단위로 적용하는 것이 바람직하다.

strict mode를 적용하면 다음과 같은 상황에서 에러가 발생한다.

- 암묵적 전역
- `delete` 오퍼레이터를 통한 변수, 함수, 매개변수의 삭제
- 매개변수 이름 중복
- with문의 사용

**ESLint와 같은 린트 도구를 사용하면 strict mode의 적용 및 코딩 컨벤션을 강제할 수 있기 때문에 strict mode보다 린트 도구를 사용하는 것이 더 낫다.**

<br>

## Summary

- 암묵적 전역이란 자바스크립트 엔진이 스코프 체인에서 선언을 찾을 수 없는 변수를 전역 객체의 프로퍼티로 생성하는 것이다.
- strict mode 기능은 자바스크립트 문법을 엄격히 제한해 오류 발생을 줄인다.
- ESLint와 같은 린트 도구를 사용하면 strict mode와 코딩 컨벤션을 강제해 코드 안정성과 생산성을 높일 수 있다.
