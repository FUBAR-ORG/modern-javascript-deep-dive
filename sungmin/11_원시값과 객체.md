# 원시값과 객체

## 원시 타입 vs 객체 타입
- 원시 타입의 값은 **변경 불가능한(immutable)** 값이지만 객체 타입은 **변경 가능한(mutable)** 값이다
- 원시 값을 변수에 할당하면 **메모리 공간에는 실제 값**이 저장된다. 반면에 객체를 할당하면 **메모리 공간에는 참조 값**이 저장된다
- 원시값을 가진 변수를 다른 변수에 할당하면 **원본 값이 복사되어 전달**된다. 이에 비해 객체를 가리키는 변수를 다른 변수에 할당하면 **참조값이 복사되어 전달**된다.

## 원시 값

한번 생성된 원시 값은 변경불가능한 값(immutable value) 즉 readonly 값으로서 변경할 수 없다.   
여기서 변경 불가능하다는 것은 변수가 아니라 값에 대한 말이다.   
"원시 값은 변경 불가능하다"는 말은 값 자체를 변경할 수 없다는 것이지 변수 값을 변경할 수 없다는 것이 아니다. 변수는 언제든지 재할당을 통해 변경할 수 있다.   
원시 값을 할당한 변수에 새로운 원시 값을 재할당하면 메모리 공간에 저장되어 있는 값을 변경하는 것이 아니라 **새로운 메모리 공간을 확보하고 재할당한 원시값을 저장한 후, 변수는 새롭게 재할당한 원시 값을 가리킨다**.   
이때 **변수가 참조하는 메모리 공간의 주소가 바뀐다**.   
값의 이러한 특성을 **불변성(immutability)** 이라고 하며 **원시 값을 할당한 변수는 재할당 이외에 변수 값을 변경할 수 있는 방법이 없다.**

## 객체

자바스크립트는 객체 기반의 프로그래밍 언어이며, 원시 값을 제외한 나머지 값(함수, 배열, 정규표현식 등)은 모두 객체이다.   
객체(참조) 타입의 값, 즉 변경 가능한 값(mutable)한 값이다.   
객체는 프로퍼티의 개수가 정해져 있지 않으면 동적으로 추가, 삭제될 수 있다. 이때 메모리 공간을 사전에 정해둘 수 없다.   
따라서 객체는 원시 값과는 다른 방식으로 동작하도록 설계되어 있으며 브라우저마다 구현방식이 다를 수 있다.

### 객체 리터럴에 의한 객체 생성
자바 같은 클래스 기반 객체지향 언어는 클래스를 사전에 정의하고 필요한 시점에 new 연산자와 함께 생성하여 객체를 생성하지만,
**자바스크립트는 프로토타입 기반 객체지향 언어로서 다양한 객체 생성방법을 지원한다**

- 객체 리터럴
- Object 생성자 함수
- 생성자 함수
- Object.create 메서드
- 클래스(ES6)

## 문자열과 불변성
원시 값인 문자열은 다른 원시 값과 비교할 때 독특한 특징이 있다. 문자열은 0개 이상의 문자로 이루어진 집합이며 필요한 문자의 수에 따라 필요한 메모리 공간(1개의 문자는 2byte)의 크기가 결정된다.   
c나 java에서는 문자열을 문자의 배열로 처리하거나 String 객체로 처리하지만 **javascript는 원시 타입의 문자열을 제공**한다.    
여기서 문자열은 유사 배열 객체이면서 이터러블 이므로 배열과 유사하게 각 문자에 접근할 수 있다.

```js
const str = 'string';

// 문자열은 유사 배열 객체이기 때문에 인텍스를 사용해 각 문자에 접근할 수 있다.
// 하지만 문자열은 원시 값으로 변경할 수 없지만 에러가 발생하지 않는다.
str[0] = 'S';

console.log(str) // string
```