# javascript variable

## 변수 선언
자바스크립트 엔진은 변수 선언을 2단계에 걸쳐 수행한다
- 선언 단계: 변수 이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알린다.
- 초기화 단계: 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 undefined를 할당해 초기화 한다.

변수 이름을 비록한 모든 식별자는 실행 컨텍스트에 등록된다.
실행 컨텍스트는 자바스크립트 엔진이 소스코드를 평가하고 실행하기 위해 필요한 환경을 제공하고 관리하는 영역이다.
자바스크립트 엔진은 실행 컨텍스트를 통해 식별자와 스코프를 관리한다.


## 호이스팅
```js
console.log(score); // undefined
var score; // 변수 선언문
```

자바스크립트 엔진은 소스를 한 줄씩 순차적으로 실행하기에 앞서 소스코드의 평가 과정을 거쳐 실행하기 위한 준비를 한다.
평가 과정에서 변수 선언을 포함한 모든 선언문(변수, 함수)을 찾아 먼저 실행한다.
그리고 평가 과정이 끝나면 모든 선언문을 제외하고 코드를 한 줄씩 순차적으로 실행한다.

만약 위 코드에서 변수가 평가 과정을 거치지 않고 런타임에 선언이 실행된다면 참조 에러(ReferenceError)가 발생해야 하지만 undefined가 출력된다.

이처럼 **변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징을 호이스팅**이라고 한다.
변수 선언뿐 아니라 var, let, const, function, function*, class 키워드를 사용해 선언하는 모든 식별자는 호이스팅 된다.

## var vs const vs let

var 키워드로 선언한 변수와 달리 let, const 키워드로 선언한 변수는 호이스팅이 발생하지 않는 것 처럼 동작한다.
```js
console.log(foo); // Reference Error: foo is no undefined
let foo; // 변수 선언문
```
**const, let 키워드로 선언한 변수는 "선언 단계"와 "초기화 단계"가 분리되어 진행된다.**
즉 런타임 이전에 암묵적으로 선언 단계가 먼저 실행되지만 **초기화 단계는 변수 선언문에 도달했을 때** 실행된다.
초기화 단계가 실행되기 이전에 변수에 접근하려고 하면 참조 에러(ReferenceError)가 발생한다. 
이처럼 스코프의 시작 지점부터 초기화 시작 지점까지 변수를 참조할 수 없는 구간을 **일시적 사각지대(Temporal DeadZone: TDZ)** 라고 부른다




